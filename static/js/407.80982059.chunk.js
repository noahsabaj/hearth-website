"use strict";(self.webpackChunkhearth_website=self.webpackChunkhearth_website||[]).push([[407],{4407:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});a(9950);var o=a(6157),n=a(2053),i=a(4745),s=a(2235),r=a(6491),l=a(6012),c=a(226),d=a(3935),h=a(4414);const m=()=>(0,h.jsxs)(r.A,{sx:{mt:4,p:2,backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:1},children:[(0,h.jsx)(n.A,{variant:"h6",gutterBottom:!0,children:"Feedback Management"}),(0,h.jsxs)(r.A,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[(0,h.jsx)(c.A,{variant:"outlined",startIcon:(0,h.jsx)(d.A,{}),onClick:()=>{const e=localStorage.getItem("hearthFeedback");if(!e)return void alert("No feedback data to export");const t=JSON.parse(e),a={exportDate:(new Date).toISOString(),totalFeedback:t.length,feedbackBySections:{},detailedFeedback:t};t.forEach((e=>{a.feedbackBySections[e.sectionId]||(a.feedbackBySections[e.sectionId]={helpful:0,notHelpful:0,comments:[]});const t=a.feedbackBySections[e.sectionId];e.helpful?t.helpful++:t.notHelpful++,e.comment&&t.comments.push({comment:e.comment,timestamp:e.timestamp})})),Object.keys(a.feedbackBySections).forEach((e=>{const t=a.feedbackBySections[e],o=t.helpful+t.notHelpful;t.satisfactionRate=o>0?t.helpful/o*100:0}));const o=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),n=URL.createObjectURL(o),i=document.createElement("a");i.href=n,i.download="hearth-feedback-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},size:"small",children:"Export Feedback Data"}),(0,h.jsx)(c.A,{variant:"outlined",color:"error",onClick:()=>{if(window.confirm("Are you sure you want to clear all feedback data?")){localStorage.removeItem("hearthFeedback");Object.keys(localStorage).forEach((e=>{e.startsWith("hearthVote_")&&localStorage.removeItem(e)})),alert("Feedback data cleared")}},size:"small",children:"Clear All Feedback"})]})]}),u=()=>(0,h.jsxs)(o.A,{maxWidth:"md",sx:{mt:10,mb:6},children:[(0,h.jsx)(n.A,{variant:"h2",gutterBottom:!0,children:"Feedback Widget Demo"}),(0,h.jsx)(n.A,{variant:"body1",paragraph:!0,children:"This page demonstrates the feedback widget system implemented for Hearth Engine documentation. Each section can collect user feedback with thumbs up/down voting and optional comments."}),(0,h.jsx)(i.A,{sx:{my:4}}),(0,h.jsxs)(s.A,{sx:{p:3,mb:4},children:[(0,h.jsx)(n.A,{variant:"h5",gutterBottom:!0,children:"Sample Documentation Section"}),(0,h.jsx)(n.A,{variant:"body1",paragraph:!0,children:"This is a sample documentation section. The feedback widget below allows users to indicate whether they found this content helpful or not. Negative feedback triggers an optional comment box for detailed feedback."}),(0,h.jsx)(n.A,{variant:"body1",paragraph:!0,children:"Features of the feedback system:"}),(0,h.jsxs)(r.A,{component:"ul",sx:{ml:3},children:[(0,h.jsx)("li",{children:"Thumbs up/down voting with real-time counters"}),(0,h.jsx)("li",{children:"Vote persistence (users can only vote once per section)"}),(0,h.jsx)("li",{children:"Optional comment box for negative feedback"}),(0,h.jsx)("li",{children:"LocalStorage persistence for demo purposes"}),(0,h.jsx)("li",{children:"Toast notifications for user feedback"}),(0,h.jsx)("li",{children:"Analytics-ready data structure"}),(0,h.jsx)("li",{children:"Fully accessible with ARIA labels"}),(0,h.jsx)("li",{children:"Smooth animations with Framer Motion"})]}),(0,h.jsx)(l.A,{sectionId:"demo-section-1",sectionTitle:"Sample Documentation Section"})]}),(0,h.jsxs)(s.A,{sx:{p:3,mb:4},children:[(0,h.jsx)(n.A,{variant:"h5",gutterBottom:!0,children:"Another Sample Section"}),(0,h.jsx)(n.A,{variant:"body1",paragraph:!0,children:"This is another sample section to demonstrate that each section maintains its own independent feedback state. Users can vote on each section separately."}),(0,h.jsx)(n.A,{variant:"body1",paragraph:!0,children:"The feedback data is stored in a structured format that can be easily exported for analytics purposes. Each feedback entry includes the section ID, vote type, optional comment, and timestamp."}),(0,h.jsx)(l.A,{sectionId:"demo-section-2",sectionTitle:"Another Sample Section"})]}),(0,h.jsx)(i.A,{sx:{my:4}}),(0,h.jsx)(n.A,{variant:"h4",gutterBottom:!0,children:"Feedback Data Management"}),(0,h.jsx)(n.A,{variant:"body1",paragraph:!0,children:"Use the controls below to export feedback data or clear all stored feedback. The exported data is in JSON format and includes aggregated statistics by section."}),(0,h.jsx)(m,{}),(0,h.jsxs)(r.A,{sx:{mt:4,p:3,backgroundColor:"rgba(255, 69, 0, 0.1)",borderRadius:1},children:[(0,h.jsx)(n.A,{variant:"h6",gutterBottom:!0,children:"Implementation Notes"}),(0,h.jsx)(n.A,{variant:"body2",component:"div",children:(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:"Feedback is stored in localStorage with the key 'hearthFeedback'"}),(0,h.jsx)("li",{children:"User votes are tracked with keys like 'hearthVote_[sectionId]'"}),(0,h.jsx)("li",{children:"The system is ready for Google Analytics integration via gtag events"}),(0,h.jsx)("li",{children:"The widget is responsive and works well on mobile devices"}),(0,h.jsx)("li",{children:"All interactions are keyboard accessible"})]})})]})]})},6012:(e,t,a)=>{a.d(t,{A:()=>y});var o=a(2555),n=a(9950),i=a(2235),s=a(6491),r=a(2053),l=a(172),c=a(5333),d=a(3738),h=a(9925),m=a(226),u=a(4862),b=a(3174),p=a(3235),x=a(4414);const f=(0,p.A)((0,x.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp"),g=(0,p.A)((0,x.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2m4 0v12h4V3z"}),"ThumbDown");var k=a(3291),j=a(1132);const y=e=>{let{sectionId:t,sectionTitle:a}=e;const[p,y]=(0,n.useState)({thumbsUp:0,thumbsDown:0,hasVoted:!1}),[v,A]=(0,n.useState)(!1),[w,S]=(0,n.useState)(""),[I,C]=(0,n.useState)(!1),[F,T]=(0,n.useState)("");(0,n.useEffect)((()=>{const e=localStorage.getItem("hearthFeedback");if(e){const a=JSON.parse(e).filter((e=>e.sectionId===t)),n=a.filter((e=>e.helpful)).length,i=a.filter((e=>!e.helpful)).length,s="hearthVote_".concat(t),r=localStorage.getItem(s);y((0,o.A)({thumbsUp:n,thumbsDown:i,hasVoted:!!r},r&&{userVote:r}))}}),[t]);const V=e=>{if(p.hasVoted)return T("You have already voted on this section"),void C(!0);const n={sectionId:t,helpful:e,timestamp:Date.now()},i=localStorage.getItem("hearthFeedback"),s=i?JSON.parse(i):[];s.push(n),localStorage.setItem("hearthFeedback",JSON.stringify(s)),localStorage.setItem("hearthVote_".concat(t),e?"up":"down"),y((t=>(0,o.A)((0,o.A)({},t),{},{thumbsUp:e?t.thumbsUp+1:t.thumbsUp,thumbsDown:e?t.thumbsDown:t.thumbsDown+1,hasVoted:!0,userVote:e?"up":"down"}))),e?(T("Thank you for your feedback!"),C(!0)):A(!0),"undefined"!==typeof window&&window.gtag&&window.gtag("event","feedback_vote",{section_id:t,section_title:a,vote_type:e?"helpful":"not_helpful"})};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(i.A,{component:"section",elevation:2,sx:{p:3,mt:4,mb:2,borderRadius:2,backgroundColor:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)"},"aria-label":"Feedback section",children:[(0,x.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,x.jsx)(r.A,{variant:"body1",sx:{fontWeight:500},children:"Was this section helpful?"}),(0,x.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,x.jsx)(l.A,{title:p.hasVoted?"You've already voted":"This was helpful",children:(0,x.jsx)("span",{children:(0,x.jsx)(c.A,{onClick:()=>V(!0),disabled:p.hasVoted,"aria-label":"Mark as helpful",sx:{color:"up"===p.userVote?"#4caf50":"inherit","&:hover":{backgroundColor:"rgba(76, 175, 80, 0.1)"}},children:(0,x.jsx)(f,{})})})}),(0,x.jsx)(r.A,{variant:"body2",sx:{minWidth:20,textAlign:"center"},children:p.thumbsUp}),(0,x.jsx)(s.A,{sx:{width:1,height:24,backgroundColor:"rgba(255, 255, 255, 0.1)"}}),(0,x.jsx)(r.A,{variant:"body2",sx:{minWidth:20,textAlign:"center"},children:p.thumbsDown}),(0,x.jsx)(l.A,{title:p.hasVoted?"You've already voted":"This wasn't helpful",children:(0,x.jsx)("span",{children:(0,x.jsx)(c.A,{onClick:()=>V(!1),disabled:p.hasVoted,"aria-label":"Mark as not helpful",sx:{color:"down"===p.userVote?"#f44336":"inherit","&:hover":{backgroundColor:"rgba(244, 67, 54, 0.1)"}},children:(0,x.jsx)(g,{})})})})]})]}),(0,x.jsx)(k.N,{children:v&&(0,x.jsx)(j.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:(0,x.jsx)(d.A,{in:v,children:(0,x.jsxs)(s.A,{sx:{mt:3},children:[(0,x.jsx)(r.A,{variant:"body2",sx:{mb:2},children:"Please tell us how we can improve this section (optional):"}),(0,x.jsx)(h.A,{multiline:!0,rows:3,fullWidth:!0,value:w,onChange:e=>S(e.target.value),placeholder:"Your feedback helps us improve the documentation...",variant:"outlined","aria-label":"Feedback comment",sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(255, 255, 255, 0.05)"}}}),(0,x.jsxs)(s.A,{sx:{mt:2,display:"flex",gap:1,justifyContent:"flex-end"},children:[(0,x.jsx)(m.A,{variant:"outlined",size:"small",onClick:()=>{A(!1),S(""),T("Thank you for your feedback!"),C(!0)},children:"Skip"}),(0,x.jsx)(m.A,{variant:"contained",size:"small",onClick:()=>{if(w.trim()){const e=localStorage.getItem("hearthFeedback");if(e){const a=JSON.parse(e),o=a[a.length-1];o&&o.sectionId===t&&(o.comment=w.trim(),localStorage.setItem("hearthFeedback",JSON.stringify(a)))}"undefined"!==typeof window&&window.gtag&&window.gtag("event","feedback_comment",{section_id:t,section_title:a,comment_length:w.length})}A(!1),S(""),T("Thank you for your detailed feedback!"),C(!0)},sx:{backgroundColor:"#ff4500","&:hover":{backgroundColor:"#ff6500"}},children:"Submit"})]})]})})})})]}),(0,x.jsx)(u.A,{open:I,autoHideDuration:4e3,onClose:()=>C(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,x.jsx)(b.A,{onClose:()=>C(!1),severity:"success",variant:"filled",sx:{width:"100%"},children:F})})]})}}}]);